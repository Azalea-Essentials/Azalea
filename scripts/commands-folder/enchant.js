import{Enchantment as e}from"@minecraft/server";import{commands as t}from"../commands";export default function n(){t.addCommand("enchant",{description:"better than /enchant fr",category:"Item Utilities",admin:!0,async onRun(t,n,r,a){try{if(n.length<2)return a("ERROR You must have 2 arguments. Example: !enchant sharpness 50");if(!/^\d+$/.test(n[1]))return a("ERROR Level must be a number.");let r=t.sender.getComponent("inventory"),m=r.container.getItem(t.sender.selectedSlot),s=m.getComponent("minecraft:enchantments");const c=s.enchantments;let o=new e(`${n[0]}`,parseInt(n[1]));return c.addEnchantment(o)?(s.enchantments=c,r.container.setItem(t.sender.selectedSlot,m),a("SUCCESS Enchanted")):a("ERROR Error")}catch(e){return a(`ERROR ${e}, STACK: ${e.stack}`)}}})}