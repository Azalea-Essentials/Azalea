import{world as e}from"@minecraft/server";import{CommandBuilder as o}from"../commandBuilder";import{Database as t}from"../db";import{ModalForm as r}from"../form_func";import{uiManager as a}from"../uis";export default function(){a.addUI("AzaleaExtra/Report",(o=>{let a=new t("Config"),s="Hacking, Toxicity",p=a.get("ReportReasons",s).split(",").map((e=>e.trim()));a.get("ReportReasons")||a.set("ReportReasons",s);let n=new t("Reports"),l=n.get("Reports",[]),i=e.getPlayers().map((e=>e.name));(new r).title("Title").dropdown("Player",i.map((e=>({callback:()=>{},option:e}))),0,(()=>{})).dropdown("Reason",p.map((e=>({callback:()=>{},option:e}))),0,(()=>{})).show(o,!0,((e,o)=>{l.push({player:i[o.formValues[0]],reason:p[o.formValues[1]]}),n.set("Reports",l)}))})),new o("report").category("Security").desc("Report a player").callback((({msg:o,response:a})=>{let s=new t("Config"),p="Hacking, Toxicity",n=s.get("ReportReasons",p).split(",").map((e=>e.trim()));s.get("ReportReasons")||s.set("ReportReasons",p);let l=new t("Reports"),i=l.get("Reports",[]),m=e.getPlayers().map((e=>e.name));(new r).title("Title").dropdown("Player",m.map((e=>({callback:()=>{},option:e}))),0,(()=>{})).dropdown("Reason",n.map((e=>({callback:()=>{},option:e}))),0,(()=>{})).show(o.sender,!0,((e,o)=>{i.push({player:m[o.formValues[0]],reason:n[o.formValues[1]]}),l.set("Reports",i)}));a("SUCCESS Exit the chat menu!")})).register()}