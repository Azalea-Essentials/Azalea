import{system as e,world as t}from"@minecraft/server";export default function o(o){o.addCommand("home",{description:"Dont be homeless",category:"Warps",async onRun(o,r,s,n){let a=o.sender;if(r.length)if("set"==r[0]){if("minecraft:overworld"!=a.dimension.id)return n("ERROR You need to be in the overworld to set a home!");let t=!a.getTags().find((e=>e.startsWith("home:")));if(e.run((()=>{for(const e of a.getTags())e.startsWith("home:")&&a.removeTag(e);a.addTag(`home:${Math.floor(a.location.x)},${Math.floor(a.location.y)},${Math.floor(a.location.z)}`)})),t)return n("SUCCESS You are no longer homeless!");if(!t)return n("SUCCESS You have changed your home.")}else{if("remove"==r[0]){return a.getTags().find((e=>e.startsWith("home:")))?(e.run((()=>{for(const e of a.getTags())e.startsWith("home:")&&a.removeTag(e)})),n("SUCCESS You are now homeless!")):n("ERROR You are already homeless")}if("tp"==r[0]){if(!a.getTags().find((e=>e.startsWith("home:"))))return n("ERROR You are homeless, that means you have no home to teleport to. Try !home set to not be homeless anymore.");let o=a.getTags().find((e=>e.startsWith("home:"))).substring(5).split(","),r=parseInt(o[0]),s=parseInt(o[1]),i=parseInt(o[2]);e.run((()=>{a.teleport({x:r,y:s,z:i},{dimension:t.getDimension("overworld")})}))}}else{if(!a.getTags().find((e=>e.startsWith("home:"))))return n("ERROR You are homeless, that means you have no home to teleport to. Try !home set to not be homeless anymore.");let o=a.getTags().find((e=>e.startsWith("home:"))).substring(5).split(","),r=parseInt(o[0]),s=parseInt(o[1]),i=parseInt(o[2]);e.run((()=>{a.teleport({x:r,y:s,z:i},{dimension:t.getDimension("overworld")})}))}}})}