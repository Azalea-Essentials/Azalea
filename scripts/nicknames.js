import*as t from"@minecraft/server";import{Database as e}from"./db";import r from"./lz-string";export function NicknamesModule(){let a=new e("Config");t.system.runInterval((()=>{if("true"==a.get("ImprovedNametagsEnabled"))for(const e of t.world.getPlayers()){if(e.hasTag("config-ui"))continue;let t=e.getTags().find((t=>t.startsWith("name-color:")))?.substring(11),a=e.getTags().find((t=>t.startsWith("bracket-color:")))?.substring(14),n=e.getTags().filter((t=>t.startsWith("rank:"))).map((t=>t.substring(5))).join("§r§8 ] [ §r§6");n.length||(n="§6Member");e.getComponent("health");t&&!/\u00A7[0-9a-gk-orA-GK-OR]/.test(t)&&(t=""),t||(t=""),a||(a="§f"),e.nameTag=r.nameTag=`§8[ §6${n} §r§8] ${t||"§4"}${e.name}`}else for(const e of t.world.getPlayers())e.nameTag=e.name}),80)}